<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Carte des Contacts</title>
    <style>html, body {width: 100%; height: 100%; margin: 0; padding: 0;}</style>
    <style>#map {position: absolute; top: 0; bottom: 0; right: 0; left: 0;}</style>

    <!-- Leaflet CSS pour la carte -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
</head>
<body>
    <!-- Conteneur pour les boutons en haut de la carte -->
    <div class="container-fluid position-absolute top-0 start-0 p-3 d-flex justify-content-between" style="z-index: 1000;">
        <a href="{{ url_for('dashboard') }}" class="btn btn-primary">Retour au Dashboard</a>
        <a href="{{ url_for('logout') }}" class="btn btn-danger">DÃ©connexion</a>
    </div>

    <!-- Carte -->
    <div id="map" class="folium-map"></div>

    <!-- Leaflet JS pour la carte -->
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <!-- jQuery et Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Initialisation de la carte Leaflet
        var map = L.map("map", {
            center: [46.8182, 8.2275],
            zoom: 7,
            zoomControl: true,
            preferCanvas: false,
        });

        // Couche de tuiles pour OpenStreetMap
        L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
            attribution: "&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors",
            maxZoom: 19,
            minZoom: 0,
            opacity: 1
        }).addTo(map);
    </script>
</body>
</html>
